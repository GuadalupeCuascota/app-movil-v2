<div class="user_div">
  <ion-header class="ion-no-border">
    <ion-list lines="none">
      <ion-item color="none">
        <ion-buttons *ngIf="datos.nivel_academico=='secundaria'" slot="start">
          <ion-back-button
            color="light"
            defaultHref="menu-opciones-se/menu-principal/home-secundaria"
          ></ion-back-button>
        </ion-buttons>

        <ion-buttons *ngIf="datos.nivel_academico=='superior'" slot="start">
          <ion-back-button
            color="light"
            defaultHref="menu-opciones/tabs/home-superior"
          ></ion-back-button>
        </ion-buttons>
        <ion-label color="light">Mujeres en STEM</ion-label>
      </ion-item>
      <ion-item color="none"> </ion-item>
    </ion-list>

    <ion-segment (ionChange)="segmenntChange($event)" [value]="valueSelected">
      <ion-segment-button value="perfiles">
        
        <ion-label>Perfiles</ion-label>
       
      </ion-segment-button>
      <ion-segment-button value="entrevistas">
        <ion-label>Entrevistas</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-header>
</div>

<!-- <div>
  <ion-button (click)="playVideo()" color="primary">PLAY VIDEO</ion-button>
  <ion-button (click)="start()" color="primary">START</ion-button>
</div> -->

<ion-content>
  <div *ngIf="valueSelected=='perfiles'">
    <div class="popover">
      <ion-searchbar (ionChange)="buscar($event)"></ion-searchbar>
    </div>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <ion-card *ngFor="let perfil of perfiles | filtros: textoBuscar">
      <video
        *ngIf="perfil.tipo_archivo=='video/mp4' || perfil.tipo_archivo=='video/mov'"
        width="100%"
        preload="auto"
        muted="false"
        src="{{perfil.ruta_archivo}} "
        (click)="playVideo(perfil.ruta_archivo)"
        controls
      ></video>
      <ion-img
        *ngIf="perfil.tipo_archivo=='image/png' ||perfil.tipo_archivo=='image/jpeg'"
        src="{{perfil.ruta_archivo}}"
        width="100%"
        height="100%"
        (click)="mostrar(perfil.id_publicacion)"
      ></ion-img>

      <ion-grid>
        <ion-row align-items-start>
          <ion-col size="1" col-md-1>
            <ion-icon name="person-circle"> </ion-icon>
          </ion-col>
          <ion-col size="5" col-md-3>
            <ion-label>{{perfil.nombre_perfil}}</ion-label>
          </ion-col>

          <ion-col size="1" col-md-1>
            <ion-icon name="school"></ion-icon>
          </ion-col>
          <ion-col size="5" col-md-3>
            <ion-label>{{perfil.profesion}}</ion-label>
          </ion-col>
          <ion-col size="1" col-md-1>
            <ion-icon name="ribbon"></ion-icon>
          </ion-col>
          <ion-col size="5" col-md-3>
            <ion-label>{{perfil.estado_profesion}}</ion-label>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col *ngIf="!isSeeMore">
            {{perfil.descripcion.substring(0,105)}}
            <span (click)="mostrar(perfil.id_publicacion)">...Ver m√°s</span>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>

    <ion-infinite-scroll threshold="150px" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content
        loadingSpinner="lines-small"
        loadingText="Cargando..."
      >
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>

  <div *ngIf="valueSelected=='entrevistas'">
    <ion-card *ngFor="let item of posts">
      <ion-card-header style="font-weight: bold">
        {{item.snippet.title}}
      </ion-card-header>
      <ion-card-content>
        <img
          [src]="item.snippet.thumbnails.high.url"
          (click)="openVideo(item.snippet.resourceId.videoId)"
        />

        <!-- <img [src]="item.snippet.thumbnails.high.url">  -->
        <!-- <iframe
          width="100%"
          height="315"
          [src]="item.snippet.resourceId.videoId|youtube"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe> -->
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
